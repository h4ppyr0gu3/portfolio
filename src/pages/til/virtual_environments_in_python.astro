---
import Blog from '../../layouts/Blog.astro';
---
<Blog title='virtual environments in python' date='18/06/2025' updated='21/06/2025'>
<h1 data-sourcepos="2:1-2:32" dir="auto">
<a href="#virtual-environments-in-python" aria-hidden="true" class="anchor" id="user-content-virtual-environments-in-python"></a>virtual environments in python</h1>
<p data-sourcepos="4:1-4:224" dir="auto">In python there is the concept of virtual environments which encapsulates all the dependencies locally to that project so that you don't get dependency mismatch or using the wrong versions from another projects dependencies.</p>
<p data-sourcepos="6:1-7:49" dir="auto">To setup virtual environments you first need to have the venv python package
Install it with the following: <code data-sourcepos="7:32-7:49">pip install venv</code></p>
<p data-sourcepos="9:1-9:220" dir="auto">you can then create a virtual environment with the following: <code data-sourcepos="9:63-9:85">python3 -m venv myenv</code>, however, this looks tacky when you run <code data-sourcepos="9:127-9:130">ls</code> or are looking from the file browser, to fix this add a <code data-sourcepos="9:188-9:190">.</code> so that it is a hidden folder</p>
<p data-sourcepos="11:1-11:67" dir="auto">to activate the virtual environment run <code data-sourcepos="11:41-11:67">source myenv/bin/activate</code></p>
<p data-sourcepos="13:1-13:110" dir="auto">once it is activated you will then have to install all the requirements with <code data-sourcepos="13:78-13:110">pip install -r requirements.txt</code></p>
<p data-sourcepos="15:1-15:54" dir="auto">to deactivate the virtual environment run <code data-sourcepos="15:43-15:54">deactivate</code></p>
<h3 data-sourcepos="18:1-18:23" dir="auto">
<a href="#complete-venv-setup" aria-hidden="true" class="anchor" id="user-content-complete-venv-setup"></a>Complete venv setup</h3>
<div class="gl-relative markdown-code-block js-markdown-code">
<pre data-sourcepos="19:1-23:3" data-canonical-lang="bash" class="code highlight js-syntax-highlight language-shell" v-pre="true"><code is:raw><span id="LC1" class="line" lang="shell">python3 <span class="nt">-m</span> venv .venv <span class="nt">--prompt</span> <span class="s1">'custom name of venv'</span></span>
<span id="LC2" class="line" lang="shell"><span class="nb">source</span> .venv/bin/activate</span>
<span id="LC3" class="line" lang="shell">pip <span class="nb">install</span> <span class="nt">-r</span> requirements.txt</span></code></pre>
<copy-code></copy-code><insert-code-snippet></insert-code-snippet>
</div>
<p data-sourcepos="25:1-25:48" dir="auto">possible aliases and functions for managing this</p>
<div class="gl-relative markdown-code-block js-markdown-code">
<pre data-sourcepos="27:1-42:3" data-canonical-lang="bash" class="code highlight js-syntax-highlight language-shell" v-pre="true"><code is:raw><span id="LC1" class="line" lang="shell"><span class="nb">alias </span><span class="nv">pysrc</span><span class="o">=</span><span class="s1">'source .venv/bin/activate'</span></span>
<span id="LC2" class="line" lang="shell"></span>
<span id="LC3" class="line" lang="shell"><span class="k">function </span>pysrc_create<span class="o">()</span> <span class="o">{</span></span>
<span id="LC4" class="line" lang="shell">    <span class="k">if</span> <span class="o">[[</span> <span class="nt">-n</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span></span>
<span id="LC5" class="line" lang="shell"><span class="k">        </span>python3 <span class="nt">-m</span> venv .venv <span class="nt">--prompt</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span></span>
<span id="LC6" class="line" lang="shell">    <span class="k">else</span></span>
<span id="LC7" class="line" lang="shell"><span class="k">        </span>python3 <span class="nt">-m</span> venv .venv</span>
<span id="LC8" class="line" lang="shell">    <span class="k">fi</span></span>
<span id="LC9" class="line" lang="shell"></span>
<span id="LC10" class="line" lang="shell"><span class="k">    </span><span class="nb">source</span> .venv/bin/activate</span>
<span id="LC11" class="line" lang="shell"><span class="o">}</span></span>
<span id="LC12" class="line" lang="shell"></span>
<span id="LC13" class="line" lang="shell"><span class="c"># I like the colon delimiter in most of my other commands to namespace them</span></span>
<span id="LC14" class="line" lang="shell"><span class="nb">alias </span>pysrc:create<span class="o">=</span><span class="s1">'pysrc_create'</span></span></code></pre>
<copy-code></copy-code><insert-code-snippet></insert-code-snippet>
</div>
<p data-sourcepos="44:1-44:69" dir="auto">Remember to add <code data-sourcepos="44:17-44:23">.venv</code> to your <code data-sourcepos="44:33-44:44">.gitignore</code> as well as <code data-sourcepos="44:57-44:69">__pycache__</code></p>
<h3 data-sourcepos="46:1-46:23" dir="auto">
<a href="#deactivate-the-venv" aria-hidden="true" class="anchor" id="user-content-deactivate-the-venv"></a>Deactivate the venv</h3>
<div class="gl-relative markdown-code-block js-markdown-code">
<pre data-sourcepos="47:1-49:3" data-canonical-lang="bash" class="code highlight js-syntax-highlight language-shell" v-pre="true"><code is:raw><span id="LC1" class="line" lang="shell">deactivate</span></code></pre>
<copy-code></copy-code><insert-code-snippet></insert-code-snippet>
</div>
</Blog>